@model AutomobileProject.ViewModels.Cars.VisualizeCarDetailsViewModel
@using Microsoft.AspNetCore.Identity
@using AutomobileProject.Data.Models.User
@inject UserManager<ApplicationUser> userManager
@{
    var userId = userManager.GetUserId(User);
}

<section class="banner banner-secondary" id="top" style="background-image: url(/img/banner-image-1-1920x300.jpg);">
    <div class="container">
        <div class="row">
            <div class="col-md-10 col-md-offset-1">
                <div class="banner-caption">
                    <div class="line-dec"></div>
                    <h2>Car Details</h2>
                </div>
            </div>
        </div>
    </div>
</section>

<main>
    <section class="featured-places">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-xs-12">
                    <div style="cursor:pointer">
                        <img src="@Model.MainImage" alt="" class="img-responsive wc-image; zoom" id="mainImage">
                    </div>

                    <br>
                    <div class="row">
                        @foreach (var image in Model.Images)
                        {
                            <div class="col-sm-4 col-xs-6">
                                <div style="cursor:pointer" class="form-group">
                                    <img onclick="ChangeImage(this.src)" src="@image" alt="" class="img-responsive">
                                </div>
                            </div>
                        }
                    </div>
                </div>

                <script src="~/js/ImageScripts/medium-zoom.min.js"></script>
                <script src="~/js/ImageScripts/ChangeImageScript.js"></script>
                <script src="~/js/ImageScripts/ChangeImageSizeScript.js"></script>

                <div class="col-md-6 col-xs-12">
                    <form href="/Cars/CarEditDetails?id=@Model.Id" method="get" class="form">
                        <h2><strong class="text-primary">@Model.Price.00 lev</strong></h2>

                        <br>

                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <div class="clearfix">
                                    <span class="pull-left">Type</span>

                                    <strong class="pull-right">@Model.Type vehicle</strong>
                                </div>
                            </li>

                            <li class="list-group-item">
                                <div class="clearfix">
                                    <span class="pull-left">Make</span>

                                    <strong class="pull-right">@Model.Make</strong>
                                </div>
                            </li>

                            <li class="list-group-item">
                                <div class="clearfix">
                                    <span class="pull-left"> Model</span>

                                    <strong class="pull-right">@Model.Model</strong>
                                </div>
                            </li>

                            <li class="list-group-item">
                                <div class="clearfix">
                                    <span class="pull-left">Year of producing</span>

                                    <strong class="pull-right">@Model.Year</strong>
                                </div>
                            </li>

                            <li class="list-group-item">
                                <div class="clearfix">
                                    <span class="pull-left">Kilometers</span>

                                    <strong class="pull-right">@Model.Kilometers km</strong>
                                </div>
                            </li>

                            <li class="list-group-item">
                                <div class="clearfix">
                                    <span class="pull-left">Fuel</span>

                                    <strong class="pull-right">@Model.FuelType</strong>
                                </div>
                            </li>

                            <li class="list-group-item">
                                <div class="clearfix">
                                    <span class="pull-left">Engine size</span>

                                    <strong class="pull-right">@Model.EngineSize cc</strong>
                                </div>
                            </li>

                            <li class="list-group-item">
                                <div class="clearfix">
                                    <span class="pull-left">Power</span>

                                    <strong class="pull-right">@Model.HorsePower hp</strong>
                                </div>
                            </li>

                            <li class="list-group-item">
                                <div class="clearfix">
                                    <span class="pull-left">Gearbox</span>

                                    <strong class="pull-right">@Model.Gearbox</strong>
                                </div>
                            </li>

                            <li class="list-group-item">
                                <div class="clearfix">
                                    <span class="pull-left">Doors</span>

                                    <strong class="pull-right">@Model.Doors</strong>
                                </div>
                            </li>

                            <li class="list-group-item">
                                <div class="clearfix">
                                    <span class="pull-left">Color</span>

                                    <strong class="pull-right">@Model.Color</strong>
                                </div>
                            </li>
                        </ul>

                        <div class="accordions">
                            <ul class="accordion">
                                <li>
                                    <a class="accordion-trigger">Vehicle Description</a>
                                    <div class="accordion-content">
                                        <p>@Model.Description</p>
                                    </div>
                                </li>
                                <li>
                                    <a class="accordion-trigger">Contact Details</a>

                                    <div class="accordion-content">

                                        <p>
                                            <span>Name</span>

                                            <br>

                                            <strong>@Model.UserDetails.FullName</strong>

                                        </p>

                                        <p>
                                            <span>Mobile phone</span>

                                            <br>

                                            <strong>
                                                <a href="tel:@Model.UserDetails.PhoneNumber">@Model.UserDetails.PhoneNumber</a>
                                            </strong>
                                        </p>

                                        <p>

                                            <span>Email</span>

                                            <br>

                                            <strong>
                                                <a href="mailto:@Model.UserDetails.EmailAddress">@Model.UserDetails.EmailAddress</a>
                                            </strong>
                                        </p>
                                    </div>
                                </li>
                            </ul> <!-- / accordion -->
                        </div>
                        @if (userId == Model.UserDetails.Id)
                        {
                            <div class="form-group">
                                <a href="/Cars/CarEditDetails?id=@Model.Id" style="width:120px; float:right; position:relative; bottom:-15px" class="btn btn-primary">Edit</a>
                            </div>
                        }
                    </form>
                </div>
            </div>
        </div>
    </section>
</main>